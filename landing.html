<body onload="loadLinks()">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<b>Select an existing character</b>

<a href="characterEx?char=captain" id="captain_ex">Captain</a>
<span id="captain_ex_text">Captain</span>

<a href="characterEx?char=boatswain" id="boatswain_ex">Boatswain</a>
<span id="boatswain_ex_text">Boatswain</span>
<a href="characterEx?char=mercenary" id="mercenary_ex">Mercenary</a>
<span id="mercenary_ex_text">Mercenary</span>
<a href="characterEx?char=merchant" id="merchant_ex">Merchant</a>
<span id="merchant_ex_text">Merchant</span>
<br>
<br>
<b>Create a new one</b>
<br>
<a href="characterNew?char=captain" id="captain_new">Captain</a>
<span id="captain_new_text">Captain</span>

<a href="characterNew?char=boatswain" id="boatswain_new">Boatswain</a>
<span id="boatswain_new_text">Boatswain</span>

<a href="characterNew?char=mercenary" id="mercenary_new">Mercenary</a>
<span id="mercenary_new_text">Mercenary</span>
<a href="characterNew?char=merchant" id="merchant_new">Merchant</a>
<span id="merchant_new_text">Merchant</span>
<br>
<br>

</body>


<script>
function loadLinks() 
{
   
    let links = ['captain','boatswain','mercenary','merchant'];
    links.forEach(function (item, index) {
                document.getElementById(item + "_ex").style.display = "none";
                document.getElementById(item + "_new_text").style.display = "none";
    });
        
    let xhr = new XMLHttpRequest(); 
    let url = "characterHide"; 
    let char_block = "";

    xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) { 
            char_block = this.responseText;
            listSplit = char_block.split(",");
            listSplit.forEach(function (item, index) {
                document.getElementById(item + "_ex").style.display = "block";
                document.getElementById(item + "_new").style.display = "none";
                document.getElementById(item + "_ex_text").style.display = "none";
                document.getElementById(item + "_new_text").style.display = "block";
            });

        } 
    };
        
    
    xhr.open("POST", url, true); 
    xhr.setRequestHeader("myHeader", "123"); 
    xhr.send();
    
    
}
</script>